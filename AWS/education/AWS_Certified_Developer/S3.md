
[//]:# (What about Aurora Security?)

<details>
    <summary>
        <b><big><big>
            What is Amazon S3?
        </big></big></b>
    </summary>

Amazon Simple Storage Service (Amazon S3) - это сервис объектного хранилища.
Обладает следующими фичами:

- Классы хранения (ряд классов хранилищ для разных сценариев хранения)
- S3 Lifecycle (Настройка жизненного цикла под свои нужды)
- S3 Object Lock (предотвращение удаления или перезаписи объектов в течение фиксированного или неопределенного времени)
- S3 Replication - репликация объектов и их соответствующих метаданных
- Пакетные операции S3 - S3 Object Lambda - поддержка лямбда операций
- Обработка данных - (тула для оптимизации)
- Уведомления о событиях
- Огромное кол-во средств ручных и автоматизированных средств аналитики и мониторинга хранилища
- Сильная консистенция (обеспечивает надежную согласованность операций)

</details>
<br>

[//]:# (How Amazon S3 works?)

<details>
    <summary>
        <b><big><big>
            How Amazon S3 works?
        </big></big></b>
    </summary>

Amazon S3 - это служба хранилища объектов, которая хранит данные в виде объектов в корзинах.
Объект - это файл и любые метаданные, описывающие файл.
Бакет - это контейнер для предметов.

Чтобы хранить данные в Amazon S3, сначала создается корзина и указываете имя корзины и регион AWS.
Затем данные загружаются в эту корзину как объекты в Amazon S3.
У каждого объекта есть ключ (или имя ключа), который является уникальным идентификатором объекта в корзине.

</details>
<br>

[//]:# (What are buckets in S3?)

<details>
    <summary>
        <b><big><big>
            What are buckets in S3?
        </big></big></b>
    </summary>

Ведро - это контейнер для объектов, хранящихся в Amazon S3.
Вы можете хранить любое количество объектов в корзине.
При создании корзины вы вводите имя корзины и выбираете регион AWS, в котором она будет находиться.
Аккаунт AWS, к которому принадлежит пользователь, владеет корзиной.
Имя созданной корзины уникально для всех регионов. Выбранное имя резервируется аккаунтом который его создал.

</details>
<br>

[//]:# (Main Bucket naming rules?)

<details>
    <summary>
        <b><big><big>
            Main Bucket naming rules?
        </big></big></b>
    </summary>

- Имена сегментов должны содержать от 3 до 63 символов.
- Имена сегментов могут состоять только из строчных букв, цифр, точек (.) И дефисов (-).
- Имена сегментов должны начинаться и заканчиваться буквой или цифрой.
- Имена сегментов не должны быть отформатированы как IP-адрес (например, 192.168.5.4).
- Имена сегментов не должны начинаться с префикса xn--.
- Имена сегментов не должны заканчиваться суффиксом -s3alias.
- Имена сегментов внутри раздела должны быть уникальными.

Примеры
- my-hosted-content
- my.example.s3.bucket
- doc-example-bucket- (ends with a hyphen)

</details>
<br>

[//]:# (S3 objects?)

<details>
    <summary>
        <b><big><big>
            S3 objects?
        </big></big></b>
    </summary>

Объекты - это основные сущности, хранящиеся в Amazon S3.
Объекты состоят из данных объекта и метаданных.
Метаданные - это набор пар имя-значение, которые описывают объект.
Эти пары включают некоторые метаданные по умолчанию, такие как дата последнего изменения,
и стандартные метаданные HTTP, такие, как Content-Type.
Вы также можете указать собственные метаданные во время сохранения объекта.

</details>
<br>

[//]:# (S3 Keys?)

<details>
    <summary>
        <b><big><big>
            S3 Keys?
        </big></big></b>
    </summary>

Ключ объекта (или имя ключа) - это уникальный идентификатор объекта в корзине.
У каждого объекта в ведре есть ровно один ключ.
Комбинация сегмента, ключа объекта и, необязательно, идентификатора версии
(если для сегмента включено управление версиями S3) однозначно идентифицирует каждый объект.
Таким образом, вы можете рассматривать Amazon S3 как
базовую карту данных между «корзиной + ключ + версия» и самим объектом.

</details>
<br>

[//]:# (Replication?)

<details>
    <summary>
        <b><big><big>
            Replication?
        </big></big></b>
    </summary>

Репликация обеспечивает автоматическое асинхронное копирование объектов в корзины Amazon S3.

Репликация может помочь в следующем:
- Репликация объектов с сохранением метаданных и шифрации (Эта возможность важна, если вам нужно убедиться,
  что ваша реплика идентична исходному объекту.)
- Репликация объектов в разные классы хранилища (в S3 Glacier, S3 Glacier Deep Archive и т.д.
  так же перемещать объекты в более холодный класс хранилища (непосредственно необходимо при жц s3))
- Сохранение копий объектов с разными владельцами (опция ограничения доступа к репликам)
- Храните объекты в нескольких регионах AWS (обеспечить географические различия в том, где хранятся ваши данные)
- Репликация объектов в течение 15 минут (т.е. быстрая скорость репликации)

</details>
<br>

[//]:# (What steps are required to gain AWS CLI access to an S3 bucket?)

<details>
    <summary>
        <b><big><big>
            What steps are required to gain AWS CLI access to an S3 bucket?
        </big></big></b>
    </summary>

Для того чтобы иметь возможность получить доступ к s3 из амазон CLI,
необходимо дать пользователю IAM доступ к s3 (через прямые или групповые полиси)
Далее сконфигурировать общий или именованный профиль в CLI

</details>
<br>

[//]:# (How is it possible to control access to S3 resources?)

<details>
    <summary>
        <b><big><big>
            How is it possible to control access to S3 resources?
        </big></big></b>
    </summary>

- Написание пользовательских политик AWS IAM
- Написание политик S3 (Как общих через UI, так и кастомных через JSON)
- Пофайловая настройка доступа

</details>
<br>

[//]:# (Versioning)

<details>
    <summary>
        <b><big><big>
            Versioning
        </big></big></b>
    </summary>

Управление версиями в Amazon S3 - это средство хранения нескольких вариантов объекта в одной корзине.
Вы можете использовать функцию управления версиями S3 для сохранения,
извлечения и восстановления каждой версии каждого объекта, хранящегося в ваших корзинах.

</details>
<br>

[//]:# (Удаление при версионировании)

<details>
    <summary>
        <b><big><big>
            Удаление при версионировании
        </big></big></b>
    </summary>

Когда управление версиями включено, простое УДАЛЕНИЕ не может удалить объект навсегда.
Вместо этого Amazon S3 вставляет маркер удаления в корзину, и этот маркер становится
текущей версией объекта с новым идентификатором.

Когда вы пытаетесь ПОЛУЧИТЬ объект, текущая версия которого является маркером удаления,
Amazon S3 ведет себя так, как если бы объект был удален (даже если он не был удален),
и возвращает ошибку 404.

</details>
<br>

[//]:# (How is it possible to optimize cost of S3 resources?)

<details>
    <summary>
        <b><big><big>
            How is it possible to optimize cost of S3 resources?
        </big></big></b>
    </summary>

1. Организация на уровне бакета
   (Понимая, как и когда собираются ваши данные,
   доступ, а также архивирование или удаление пользователями имеет решающее значение для управления расходами на хранение.)

2. Организация на уровне объектов
   (Организовывая доступ к объектам можно сэкономить)

3. выбор правильного Amazon S3 класса хранения (они отличаются по типу жц файлов и работы с ними)

</details>
<br>

[//]:# (How nested file hierarchies are represented in S3?)

<details>
    <summary>
        <b><big><big>
            How nested file hierarchies are represented in S3?
        </big></big></b>
    </summary>

Префикс - это полный путь перед именем объекта, который включает имя сегмента.
BucketName/Project/WordFiles/123.txt, the prefix is “BucketName/Project/WordFiles/”

Папка - это значение между двумя символами «/». Например, если файл хранится как
BucketName / Project / WordFiles / 123.txt, путь к файлу указывает на наличие папки
(«Проект») и подпапки («WordFiles»). И «Проект», и «WordFiles» считаются папками.

</details>
<br>

[//]:# (Что хранит S3 в своих объектах?)

<details>
    <summary>
        <b><big><big>
            Что хранит S3 в своих объектах?
        </big></big></b>
    </summary>

Сопутствующую мета информацию (время загрузки // формат // ключ // размер)

</details>
<br>

[//]:# (Почему S3 лучше, чем физически обслуживаемый файловый сервер?)

<details>
    <summary>
        <b><big><big>
            Почему S3 лучше, чем физически обслуживаемый файловый сервер?
        </big></big></b>
    </summary>

Скорость работы // Удобство работы и настройки //
Нет необходимости в обновлении/замене/ремонте физ носителей.

</details>
<br>

[//]:# (What is CloudFront?)

<details>
    <summary>
        <b><big><big>
            What is CloudFront? 
            What is Edge Location/Edge Origin/Distribution?
        </big></big></b>
    </summary>

System of distributed servers which deliver webpages and web content

- **Edge Location** - the location where content is cached. Separate on region/AZ
- **Edge Origin** - The origin area from hum files will be distributed.
    (it can be s3, ec2, elastic load balancer, route53)
- **CF Distribution** - the name of origin and content to distribute 

</details>
<br>

[//]:# (What is CORS?)

<details>
    <summary>
        <b><big><big>
            What is CORS?
        </big></big></b>
    </summary>

Cross-Origin Resource sharing is used to allow resources in one
S3 bucket to access resources located in another S3 bucket

</details>
<br>

[//]:# (S3 Encrytion?)

<details>
    <summary>
        <b><big><big>
            S3 Encrytion?
        </big></big></b>
    </summary>

**In Transit**
- SSL/TLS
- HTTPS

**In Rest side**
- Server-side encryption
- SSE-S3 (AES 256-bit)
- SSE-KMS
- SSE-C

**Client-Side Encryption**
- you need to encrypt the files yourself before you upload them

**SSE creation encryption**
- Encryption using SSE-S3 is enabled by default while s3 is created

</details>
<br>

[//]:# (What steps need to do to setup your website on S3?)

<details>
    <summary>
        <b><big><big>
            What steps need to do to setup your website on S3?
        </big></big></b>
    </summary>

- Edit the bucket's Block Public Access settings and add a public bucket policy
- Create an index and error document
  (An index document (usually index.html) serves as the homepage of your website.
Specifying this ensures visitors are directed to the correct starting page. 
Similarly, setting an error document provides a user-friendly 
way to handle requests for URLs that do not exist on your website.)
- Enable static website hosting
- Create an S3 bucket in the region nearest to most of your users

</details>
<br>

[//]:# (What is S3 access points?)

<details>
    <summary>
        <b><big><big>
            What is S3 access points?
        </big></big></b>
    </summary>

Amazon S3 access points simplify data access for any AWS service 
or customer application that stores data in S3. 

Access points are named network endpoints that are attached to buckets 
that you can use to perform S3 object operations, 
such as GetObject and PutObject

Usage example, you can have S3 object with personal data 
and Lambda function with deletion of this data. 
You can create an access point from the S3 console 
to start that function on GetObject operation.

And you will have two types of one file. 
- One is via object with private data.
- One via access point without private data

</details>
<br>

[//]:# (What is S3 access points?)

<details>
    <summary>
        <b><big><big>
            Is it possible to configure S3 to insert object data to DB after put operation?
        </big></big></b>
    </summary>

Configure an S3 event to invoke an AWS Lambda function 
that inserts records into DynamoDB.

</details>
<br>